<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/main.css" media="all" />
    <script
      src="https://kit.fontawesome.com/3d4c699bd6.js"
      crossorigin="anonymous"
    ></script>
    <title>Ingredient Checker</title>
  </head>
  <body class="">
    <main class="main">
    <header class="header">
      <div class="header__left">
          <!-- <button id="backButton" class="btn btn-link"><i class="fa-solid fa-angle-left"></i></button> -->
          <div class="header__page-title">Ingredient Analyzer</div>
      </div>
      <div class="header__right">
          <button href="#" class="btn btn-ghost"><i class="fa-solid fa-ellipsis"></i></button>
      </div>
    </header>
    <div class="body">
      <div class="body__header">
        <!-- <div class="body__header-title">Ingredient Analyzer</div> -->
        <div class="body__header-description">
          this is a test for an ingredient checker
        </div>
      </div>
      <div class="body__form">
        <div class="form-element required">
          <label for="ingredientsInput" class="visually-hidden">Ingredients</label>
          <textarea
            id="ingredientsInput"
            placeholder="Enter ingredients separated by commas"
          ></textarea>
          <div class="invalid-feedback">This is a required field</div>
        </div>
        <div class="body__form-actions">
          <div class="body__form-actions-tools">
            <button class="btn btn-ghost" data-title="Use Camera">
              <i class="fa-solid fa-camera"></i>
            </button>
          </div>

          <div class="body__form-actions-buttons">
            <button class="btn btn-ghost" data-title="Clear Form">
              <i class="fa-solid fa-rotate-left"></i>
            </button>
            <button class="btn btn-primary" data-title="Submit" onclick="checkIngredients()">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
    <div id="results" class="result"></div>
  </main>
  </body>

  <script>
    const badIngredients = {
      "sodium benzoate":
        "Can form benzene, a known carcinogen, in acidic conditions.",
      "high fructose corn syrup":
        "Linked to obesity and increased risk of diabetes.",
      aspartame:
        "May cause headaches, dizziness, and potential long-term health risks.",
      test: "testing.",
    };

    function checkIngredients() {
      const input = document.getElementById("ingredientsInput").value;
      const ingredients = input
        .toLowerCase()
        .split(",")
        .map((i) => i.trim());
      const results = document.getElementById("results");
      results.innerHTML = "";

      ingredients.forEach((ingredient) => {
        if (badIngredients[ingredient]) {
          const reason = badIngredients[ingredient];
          results.innerHTML += `<p><span class="ingredient ingredient--bad">${ingredient}</span>: ${reason}</p>`;
        }
      });

      if (!results.innerHTML) {
        results.innerHTML = "<p>No bad ingredients found!</p>";
      }
    }
  </script>
</html>
